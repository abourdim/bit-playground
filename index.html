<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>micro:bit Playground</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js: for full offline support, download and serve locally -->
    <!-- e.g. <script src="chart.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Modular scripts (load order matters) -->
    <script src="js/core.js" defer></script>
    <script src="js/ble.js" defer></script>
    <script src="js/sensors.js" defer></script>
    <script src="js/controls.js" defer></script>
    <script src="js/servos.js" defer></script>
    <script src="js/others.js" defer></script>
    <script src="js/graph.js" defer></script>
</head>
<body>
<div class="app beginner-mode">
    <!-- Header -->
<div class="header">
    <div class="title-block">
        <img src="logo.svg" alt="micro:bit Playground Logo" class="site-logo animated-logo">
        <h1>micro:bit Playground</h1>
        <div class="subtitle">Play ‚Ä¢ Learn ‚Ä¢ Create</div>
    </div>
    <div class="theme-picker" aria-label="Theme selector">
        <button class="theme-btn active" data-theme="stealth" title="Stealth">üåô</button>
        <button class="theme-btn" data-theme="neon" title="Neon">‚ö°</button>
        <button class="theme-btn" data-theme="arctic" title="Arctic">‚òÅÔ∏è</button>
        <button class="theme-btn" data-theme="blaze" title="Blaze">üî•</button>
    </div>
    <div class="chip" role="status" aria-live="polite" aria-atomic="true">
        <div class="chip-dot"></div>
        <span>Ready!</span>
    </div>
</div>

    <div class="rows-container" style="display:flex; flex-direction:column; gap:16px;">
        <!-- ROW 1: Live link + Message log -->
        <div class="row row-top" style="display:flex; gap:20px;">
            <!-- LEFT: Connection -->
            <div class="col-left">
                <div class="card connection-card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">
                                <span class="icon">üì°</span>
                                Connect
                            </div>
                            <div class="card-subtitle expert-only">
                                Bluetooth connection to your micro:bit
                            </div>
                        </div>
                        <div class="badge beginner-only">Beginner Mode</div>
                    </div>

                    <div class="connection-grid">
                        <div class="connection-main">
                            <div class="connection-status-block">
                                <div class="status-row">
                                    <div id="connectionStatus" class="status-pill">
                                        <span class="status-dot"></span>
                                        <span>Ready to connect</span>
                                    </div>
                                </div>

                                <div class="button-row">
                                    <button id="connectBtn" class="primary" aria-label="Connect to micro:bit">
                                        <span class="btn-icon">üîó</span>
                                        Connect
                                    </button>
                                    <button id="disconnectBtn" class="secondary" disabled aria-label="Disconnect micro:bit">
                                        <span class="btn-icon">‚úï</span>
                                        Disconnect
                                    </button>
                                </div>

                                <div class="hint">
                                    <div class="hint-title">How to connect</div>
                                    <ol>
                                        <li>Turn on your micro:bit</li>
                                        <li>Click <strong>Connect</strong></li>
                                        <li>Pick your micro:bit from the list</li>
                                    </ol>
                                </div>
                            </div>

                            <div class="connection-details">
                                <div class="connection-section-title">Mode</div>
                                <div class="pill-group">
                                    <button id="beginnerModeBtn" class="pill active" aria-pressed="true">
                                        <div class="pill-dot"></div>
                                        <span class="pill-text">Beginner</span>
                                    </button>
                                    <button id="expertModeBtn" class="pill" aria-pressed="false">
                                        <div class="pill-dot"></div>
                                        <span class="pill-text">Expert</span>
                                    </button>
                                </div>

                                <div class="connection-section-title expert-only">Device</div>
                                <div class="device-row expert-only">
                                    <span class="device-label">Name</span>
                                    <span id="deviceName" class="device-value">None</span>
                                </div>

                                <!-- Hidden technical info -->
                                <div id="serialNumber" style="display:none;"></div>
                                <code id="serviceUuidDisplay" style="display:none;"></code>
                                <code id="rxCharUuidDisplay" style="display:none;"></code>
                                <code id="txCharUuidDisplay" style="display:none;"></code>
                            </div>
                        </div>

                        <div class="connection-footer expert-only">
                            <div class="badge soft">
                                <span class="dot"></span>
                                <span>Waiting for messages‚Ä¶</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Message log / Activity -->
            <div class="col-right">
                <!-- Simple Activity for Beginners -->
                <div class="card activity-card beginner-only">
                    <div class="card-header">
                        <div>
                            <div class="card-title">
                                <span class="icon">‚ö°</span>
                                Activity
                            </div>
                        </div>
                        <button id="clearActivityBtn" class="secondary small">Clear</button>
                    </div>
                    <div id="activity" class="activity-feed" aria-live="polite"></div>
                </div>

                <!-- Technical Log for Experts -->
                <div class="card log-card expert-only">
                    <div class="card-header">
                        <div>
                            <div class="card-title">
                                <span class="icon">üìú</span>
                                Message Log
                            </div>
                            <div class="card-subtitle">
                                Raw UART messages
                            </div>
                        </div>
                        <div class="log-controls">
                            <button id="clearLogBtn" class="secondary small" aria-label="Clear log">Clear</button>
                            <button id="exportLogBtn" class="small" aria-label="Export log">
                                <span class="btn-icon">‚¨á</span>
                                Export
                            </button>
                        </div>
                    </div>

                    <div id="log" class="log" aria-live="polite" role="log"></div>

                    <div class="log-footer">
                        <div class="badge">
                            micro:bit ‚áÑ Playground
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ROW 2: Tabs -->
        <div class="row row-bottom" style="display:flex; gap:20px; align-items:flex-start; width:100%;">
            <div class="col-left">
                <!-- Tab bar -->
                <div class="mode-selector-container">
                    <div class="mode-selector" style="display:flex; width:100%;">
                        <button
                            id="controlsTabBtn"
                            class="mode-btn tab-btn active"
                            data-page="controls"
                            style="flex:1;">
                            <span class="mode-icon">üéõÔ∏è</span>
                            Controls
                        </button>
                        <button
                            id="sensesTabBtn"
                            class="mode-btn tab-btn"
                            data-page="senses"
                            style="flex:1;">
                            <span class="mode-icon">üëÄ</span>
                            Sensors
                        </button>
                        <button
                            id="servosTabBtn"
                            class="mode-btn tab-btn"
                            data-page="servos"
                            style="flex:1;">
                            <span class="mode-icon">‚öôÔ∏è</span>
                            Motors
                        </button>
                        <button
                            id="gamepadTabBtn"
                            class="mode-btn tab-btn"
                            data-page="gamepad"
                            style="flex:1;">
                            <span class="mode-icon">üéÆ</span>
                            GamePad
                        </button>
                        <button
                            id="graphTabBtn"
                            class="mode-btn tab-btn"
                            data-page="graph"
                            style="flex:1;">
                            <span class="mode-icon">üìà</span>
                            Graph
                        </button>
                        <button
                            id="benchTabBtn"
                            class="mode-btn tab-btn expert-only"
                            data-page="bench"
                            style="flex:1;">
                            <span class="mode-icon">üîß</span>
                            Bench
                        </button>
                        <button
                            id="othersTabBtn"
                            class="mode-btn tab-btn"
                            data-page="others"
                            style="flex:1;">
                            <span class="mode-icon">‚ú®</span>
                            More
                        </button>
                    </div>
                </div>

                <div class="tab-pages">
                    <!-- CONTROLS PAGE -->
                    <div class="tab-page active" data-page="controls">
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">
                                        <span class="icon">üéÆ</span>
                                        Controls
                                    </div>
                                    <div class="card-subtitle expert-only">
                                        Send commands to your micro:bit
                                    </div>
                                </div>
                            </div>

                            <div class="controls-grid">
                                <!-- Message -->
                                <div class="control-section">
                                    <div class="section-header">
                                        <div class="section-title">
                                            <span class="section-icon">üí¨</span>
                                            Show a message
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <input id="textInput" type="text" placeholder="Hello!" aria-label="Message to micro:bit">
                                        <button id="sendTextBtn" class="primary" aria-label="Send text">
                                            <span class="btn-icon">üì®</span>
                                            Send
                                        </button>
                                    </div>
                                </div>

                                <!-- LED matrix -->
                                <div class="card">
                                    <div class="card-header">
                                        <div>
                                            <div class="card-title">
                                                <span class="icon">üé®</span>
                                                Draw on LEDs
                                            </div>
                                        </div>
                                    </div>

                                    <div class="microbit-matrix-wrapper">
                                        <div class="microbit-outline">
                                            <div class="microbit-header">
                                                <div class="microbit-chip"></div>
                                                <div class="microbit-ears">
                                                    <div class="microbit-ear"></div>
                                                    <div class="microbit-ear"></div>
                                                </div>
                                            </div>
                                            <div id="ledMatrix" class="led-matrix" role="grid" aria-label="5 by 5 LED drawing board"></div>
                                            <div class="drawing-mode-hint">Click and drag to draw!</div>
                                        </div>

<div class="matrix-controls">
    <!-- Main actions -->
    <div class="button-row">
        <button id="sendLedPatternBtn" class="small primary" aria-label="Send LED pattern">
            <span class="btn-icon">üì§</span>
            Send
        </button>
        <button id="clearMatrixBtn" class="small secondary" aria-label="Clear LED matrix">
            <span class="btn-icon">üßΩ</span>
            Clear
        </button>
    </div>

    <!-- Quick shapes -->
    <div class="matrix-groups">
        <div class="matrix-group">
            <div class="matrix-group-label">Quick shapes</div>
            <div class="button-row compact">
                <button class="chip-btn small" data-preset="heart">‚ù§Ô∏è Heart</button>
                <button class="chip-btn small" data-preset="smile">üòä Smile</button>
                <button class="chip-btn small" data-preset="tick">‚úî Tick</button>
            </div>
        </div>

        <!-- Show icons -->
        <div class="matrix-group">
            <div class="matrix-group-label">Show icons</div>
            <div class="button-row compact">
                <button class="chip-btn small" data-cmd="HEART">‚ù§Ô∏è</button>
                <button class="chip-btn small" data-cmd="SMILE">üòä</button>
                <button class="chip-btn small" data-cmd="SAD">üò¢</button>
                <button class="chip-btn small" data-cmd="CLEAR">‚úñÔ∏è</button>
            </div>
        </div>
    </div>
</div>

                                    </div>
                                </div>
<!-- BUZZER CONTROL -->
<div class="control-section">
    <div class="section-header">
        <div class="section-title">
            <span class="section-icon">üéµ</span>
            Make sounds
        </div>
    </div>

    <!-- Kid-friendly preset buttons -->
    <div class="button-row compact beginner-show">
        <button class="chip-btn" id="buzzLow">üîà Low beep</button>
        <button class="chip-btn" id="buzzMid">üîâ Beep</button>
        <button class="chip-btn" id="buzzHigh">üîä High beep</button>
        <button class="chip-btn" id="buzzMelody">üé∂ Melody</button>
    </div>

    <!-- Expert controls -->
    <div class="expert-only">
        <div class="form-row" style="align-items:center; margin-top:8px;">
            <label style="font-size:0.75rem; width:70px;">Frequency</label>
            <input id="buzzFreq" type="range" min="100" max="2000" value="440" step="10" style="flex:1;">
            <span id="buzzFreqValue" style="font-size:0.75rem; margin-left:8px;">440 Hz</span>
        </div>

        <div class="form-row" style="align-items:center; margin-top:6px;">
            <label style="font-size:0.75rem; width:70px;">Duration</label>
            <input id="buzzDur" type="number" min="50" max="2000" value="200" style="width:80px;">
            <span style="font-size:0.75rem; margin-left:6px;">ms</span>
        </div>
    </div>

    <div class="button-row" style="margin-top:8px;">
        <button id="buzzPlay" class="primary">‚ñ∂ Play</button>
        <button id="buzzStop" class="secondary">‚èπ Stop</button>
    </div>
</div>

                                <!-- Custom JSON (expert) -->
                                <div class="control-section expert-only">
                                    <div class="section-header">
                                        <div class="section-title">
                                            <span class="section-icon">üß™</span>
                                            Custom JSON command
                                        </div>
                                        <div class="section-subtitle">
                                            Send raw JSON payloads to the micro:bit for advanced experiments.
                                        </div>
                                    </div>
<textarea id="customJsonInput" rows="4" class="code-input" aria-label="Custom JSON">
{"type":"custom","payload":{"example":true}}</textarea>
                                    <div class="button-row">
                                        <button id="sendCustomJsonBtn" class="primary" aria-label="Send custom JSON">
                                            <span class="btn-icon">üì°</span>
                                            Send JSON
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SENSES PAGE -->
                    <div class="tab-page" data-page="senses">
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">
                                        <span class="icon">üëÄ</span>
                                        Sensors
                                    </div>
                                    <div class="card-subtitle">
                                        See what your micro:bit senses!
                                    </div>
                                </div>
                            </div>

                            <div class="sensor-layout">
                                <!-- Temperature -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">üå°Ô∏è Temperature</div>
                                        <div class="sensor-value">
                                            <span id="tempValue">‚Äì</span><span class="sensor-unit">¬∞C</span>
                                        </div>
                                        <div class="sensor-hint">Is it warm or cold?</div>
                                    </div>
                                    <div class="chart-container small expert-only">
                                        <canvas id="tempChart"></canvas>
                                    </div>
                                </div>

                                <!-- Light -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">üí° Light</div>
                                        <div class="sensor-value">
                                            <span id="lightValue">‚Äì</span>
                                        </div>
                                        <div class="sensor-hint">Bright or dark?</div>
                                    </div>
                                    <div class="chart-container small expert-only">
                                        <canvas id="lightChart"></canvas>
                                    </div>
                                </div>

                                <!-- Sound -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">üîä Sound</div>
                                        <div class="sensor-value">
                                            <span id="soundValue">‚Äì</span>
                                        </div>
                                        <div class="sensor-hint">Clap or talk!</div>
                                    </div>
                                    <div class="chart-container small expert-only">
                                        <canvas id="soundChart"></canvas>
                                    </div>
                                </div>

                                <!-- Motion / Tilt (simplified for kids) -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">üì± Tilt & Shake</div>
                                        <div class="sensor-value">
                                            <span id="motionValue">‚Äì</span>
                                        </div>
                                        <div class="sensor-hint">Move your micro:bit!</div>
                                    </div>
                                    <div class="chart-container small expert-only">
                                        <canvas id="motionChart"></canvas>
                                    </div>
                                </div>

                                <!-- Accel X (expert only) -->
                                <div class="sensor-block expert-only">
                                    <div class="sensor-card">
                                        <div class="sensor-label">Acceleration X</div>
                                        <div class="sensor-value">
                                            <span id="accelXValue">‚Äì</span><span class="sensor-unit">mg</span>
                                        </div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="accelXChart"></canvas>
                                    </div>
                                </div>

                                <!-- Accel Y (expert only) -->
                                <div class="sensor-block expert-only">
                                    <div class="sensor-card">
                                        <div class="sensor-label">Acceleration Y</div>
                                        <div class="sensor-value">
                                            <span id="accelYValue">‚Äì</span><span class="sensor-unit">mg</span>
                                        </div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="accelYChart"></canvas>
                                    </div>
                                </div>

                                <!-- Accel Z (expert only) -->
                                <div class="sensor-block expert-only">
                                    <div class="sensor-card">
                                        <div class="sensor-label">Acceleration Z</div>
                                        <div class="sensor-value">
                                            <span id="accelZValue">‚Äì</span><span class="sensor-unit">mg</span>
                                        </div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="accelZChart"></canvas>
                                    </div>
                                </div>

                                <!-- Compass -->
                                <div class="sensor-block">
                                    <div class="sensor-card">
                                        <div class="sensor-label">üß≠ Compass</div>
                                        <div class="sensor-value">
                                            <span id="compassHeadingValue">‚Äì</span><span class="sensor-unit">¬∞</span>
                                        </div>
                                        <div class="sensor-hint beginner-show">Which way is North?</div>
                                    </div>
                                    <div class="chart-container small chart-placeholder expert-only">
                                        <span class="chart-placeholder-text">No chart</span>
                                    </div>
                                </div>

                                <!-- Button A -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Button A</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="btnAState" class="pill big">
                                                <div id="btnADot" class="pill-dot"></div>
                                                <span id="btnAText" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Press the A button!</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="btnAChart"></canvas>
                                    </div>
                                </div>

                                <!-- Button B -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Button B</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="btnBState" class="pill big">
                                                <div id="btnBDot" class="pill-dot"></div>
                                                <span id="btnBText" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Press the B button!</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="btnBChart"></canvas>
                                    </div>
                                </div>

                                <!-- Touch P0 -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Touch P0</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="touchP0State" class="pill big">
                                                <div id="touchP0Dot" class="pill-dot"></div>
                                                <span id="touchP0Text" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Touch pin P0</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="touchP0Chart"></canvas>
                                    </div>
                                </div>

                                <!-- Touch P1 -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Touch P1</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="touchP1State" class="pill big">
                                                <div id="touchP1Dot" class="pill-dot"></div>
                                                <span id="touchP1Text" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Touch pin P1</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="touchP1Chart"></canvas>
                                    </div>
                                </div>

                                <!-- Touch P2 -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Touch P2</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="touchP2State" class="pill big">
                                                <div id="touchP2Dot" class="pill-dot"></div>
                                                <span id="touchP2Text" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Touch pin P2</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="touchP2Chart"></canvas>
                                    </div>
                                </div>

                                <!-- Logo Touch -->
                                <div class="sensor-block">
                                    <div class="sensor-card big">
                                        <div class="sensor-label">Logo Touch</div>
                                        <div style="display:flex; gap:4px; margin-top:4px;">
                                            <div id="logoState" class="pill big">
                                                <div id="logoDot" class="pill-dot"></div>
                                                <span id="logoText" class="pill-text">Ready</span>
                                            </div>
                                        </div>
                                        <div class="sensor-hint">Touch the logo</div>
                                    </div>
                                    <div class="chart-container small">
                                        <canvas id="logoChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SERVOS PAGE -->
                    <div class="tab-page" data-page="servos">
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">
                                        <span class="icon">‚öôÔ∏è</span>
                                        Motors
                                    </div>
                                    <div class="card-subtitle">
                                        Move servos left and right!
                                    </div>
                                </div>
                            </div>

                            <div class="controls-grid">
                              <div class="control-section">
                                <div class="section-title">üîµ Motor 1 <span class="expert-only">(P1)</span></div>
                                
                                <div class="servo-gauge" id="gauge1Container">
    <svg width="160" height="100" viewBox="0 0 160 100">
        <defs>
            <linearGradient id="gauge1Grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#ff6b6b"/>
                <stop offset="25%" style="stop-color:#ffd93d"/>
                <stop offset="50%" style="stop-color:#6bcb77"/>
                <stop offset="75%" style="stop-color:#4d96ff"/>
                <stop offset="100%" style="stop-color:#9b5de5"/>
            </linearGradient>
            <filter id="glow1" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="blur"/>
                <feMerge>
                    <feMergeNode in="blur"/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
        </defs>
        <!-- Background arc -->
        <path d="M20 80 A60 60 0 0 1 140 80" stroke="rgba(255,255,255,0.1)" stroke-width="12" fill="none" stroke-linecap="round"/>
        <!-- Colorful arc -->
        <path d="M20 80 A60 60 0 0 1 140 80" stroke="url(#gauge1Grad)" stroke-width="10" fill="none" stroke-linecap="round" filter="url(#glow1)"/>
        <!-- Tick marks -->
        <text x="15" y="85" fill="#888" font-size="10">0¬∞</text>
        <text x="72" y="22" fill="#888" font-size="10">90¬∞</text>
        <text x="135" y="85" fill="#888" font-size="10">180¬∞</text>
        <!-- Needle -->
        <line id="servo1Needle" x1="80" y1="80" x2="80" y2="30" stroke="#fff" stroke-width="5"
              stroke-linecap="round" transform="rotate(-90 80 80)" filter="url(#glow1)"/>
        <!-- Center hub -->
        <circle cx="80" cy="80" r="12" fill="url(#gauge1Grad)"/>
        <circle cx="80" cy="80" r="7" fill="#1e293b"/>
        <circle cx="80" cy="80" r="4" fill="#f97316"/>
    </svg>
    <div class="gauge-value" id="servo1GaugeValue">90¬∞</div>
    <div class="gauge-emoji">üéØ</div>
</div>


                                <div class="form-row">
                                  <input id="servo1Angle" type="range" min="0" max="180" value="90" aria-label="Motor 1 angle">
                                  <input id="servo1Number" type="number" min="0" max="180" value="90" style="width:72px;" aria-label="Motor 1 numeric angle" class="expert-only">
                                </div>
                                <div class="button-row">
                                  <button id="servo1Send" class="primary" aria-label="Move motor 1">Move</button>
                                  <button id="servo1Off" class="secondary" aria-label="Stop motor 1">Stop</button>
                                </div>
                              </div>

                              <div class="control-section">
                                <div class="section-title">üü¢ Motor 2 <span class="expert-only">(P2)</span></div>
                                <div class="servo-gauge" id="gauge2Container">
    <svg width="160" height="100" viewBox="0 0 160 100">
        <defs>
            <linearGradient id="gauge2Grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#c084fc"/>
                <stop offset="25%" style="stop-color:#818cf8"/>
                <stop offset="50%" style="stop-color:#38bdf8"/>
                <stop offset="75%" style="stop-color:#34d399"/>
                <stop offset="100%" style="stop-color:#a3e635"/>
            </linearGradient>
            <filter id="glow2" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="blur"/>
                <feMerge>
                    <feMergeNode in="blur"/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
        </defs>
        <!-- Background arc -->
        <path d="M20 80 A60 60 0 0 1 140 80" stroke="rgba(255,255,255,0.1)" stroke-width="12" fill="none" stroke-linecap="round"/>
        <!-- Colorful arc -->
        <path d="M20 80 A60 60 0 0 1 140 80" stroke="url(#gauge2Grad)" stroke-width="10" fill="none" stroke-linecap="round" filter="url(#glow2)"/>
        <!-- Tick marks -->
        <text x="15" y="85" fill="#888" font-size="10">0¬∞</text>
        <text x="72" y="22" fill="#888" font-size="10">90¬∞</text>
        <text x="135" y="85" fill="#888" font-size="10">180¬∞</text>
        <!-- Needle -->
        <line id="servo2Needle" x1="80" y1="80" x2="80" y2="30" stroke="#fff" stroke-width="5"
              stroke-linecap="round" transform="rotate(-90 80 80)" filter="url(#glow2)"/>
        <!-- Center hub -->
        <circle cx="80" cy="80" r="12" fill="url(#gauge2Grad)"/>
        <circle cx="80" cy="80" r="7" fill="#1e293b"/>
        <circle cx="80" cy="80" r="4" fill="#22c55e"/>
    </svg>
    <div class="gauge-value" id="servo2GaugeValue">90¬∞</div>
    <div class="gauge-emoji">üéØ</div>
</div>


                                <div class="form-row">
                                  <input id="servo2Angle" type="range" min="0" max="180" value="90" aria-label="Motor 2 angle">
                                  <input id="servo2Number" type="number" min="0" max="180" value="90" style="width:72px;" aria-label="Motor 2 numeric angle" class="expert-only">
                                </div>
                                <div class="button-row">
                                  <button id="servo2Send" class="primary" aria-label="Move motor 2">Move</button>
                                  <button id="servo2Off" class="secondary" aria-label="Stop motor 2">Stop</button>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
  <!-- ‚úÖ GAMEPAD PAGE -->
                    <div class="tab-page" data-page="gamepad">
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">
                                        <span class="icon">üéÆ</span>
                                        GamePad
                                    </div>
                                    <div class="card-subtitle">
                                        Control your robot or game!
                                    </div>
                                </div>
                            </div>

                            <div class="controls-grid">
<div class="control-section">
    <div class="section-title">üïπÔ∏è D-Pad Controller</div>

    <div class="dpad-wrapper">

        <!-- Up -->
        <button class="primary cmd-btn dpad-btn dpad-up" data-cmd="UP" aria-label="Move up">‚¨Ü</button>

        <div class="dpad-middle-row">
            <!-- Left -->
            <button class="primary cmd-btn dpad-btn dpad-left" data-cmd="LEFT" aria-label="Move left">‚¨Ö</button>

            <!-- Center "stick" circle -->
            <div class="dpad-center"></div>

            <!-- Right -->
            <button class="primary cmd-btn dpad-btn dpad-right" data-cmd="RIGHT" aria-label="Move right">‚û°</button>
        </div>

        <!-- Down -->
        <button class="primary cmd-btn dpad-btn dpad-down" data-cmd="DOWN" aria-label="Move down">‚¨á</button>

        <!-- Fire button -->
        <button class="primary cmd-btn fire-btn" data-cmd="FIRE" aria-label="Fire">üî• Fire</button>
    </div>
</div>

                            </div>
                        </div>
                    </div>
<!-- GRAPH PAGE -->
<div class="tab-page" data-page="graph">
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">
                    <span class="icon">üìà</span>
                    Live Graph
                </div>
                <div class="card-subtitle">
                    Plot sensor data and custom values in real time.
                </div>
            </div>
        </div>

        <!-- Graph Type Selector -->
        <div class="graph-controls">
            <div class="graph-row">
                <label class="graph-label">Type</label>
                <div class="graph-type-group">
                    <button class="graph-type-btn active" data-type="line" title="Line">üìà Line</button>
                    <button class="graph-type-btn" data-type="bar" title="Bar">üìä Bar</button>
                    <button class="graph-type-btn" data-type="scatter" title="Scatter">üîò Scatter</button>
                    <button class="graph-type-btn" data-type="area" title="Area">üìê Area</button>
                    <button class="graph-type-btn" data-type="realtime" title="Realtime">‚ö° Realtime</button>
                </div>
            </div>

            <!-- Sensor Toggles -->
            <div class="graph-row">
                <label class="graph-label">Sensors</label>
                <div class="graph-sensor-toggles">
                    <label class="graph-toggle"><input type="checkbox" data-sensor="accelX"> Accel X</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="accelY"> Accel Y</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="accelZ"> Accel Z</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="compass"> Compass</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="sound"> Sound</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="light"> Light</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="temp"> Temp</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="touchP0"> Touch P0</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="touchP1"> Touch P1</label>
                    <label class="graph-toggle"><input type="checkbox" data-sensor="touchP2"> Touch P2</label>
                </div>
            </div>

            <!-- Options Row -->
            <div class="graph-row">
                <label class="graph-label">Options</label>
                <div class="graph-options">
                    <div class="graph-option">
                        <label>Window</label>
                        <select id="graphWindow">
                            <option value="50">50 pts</option>
                            <option value="100" selected>100 pts</option>
                            <option value="200">200 pts</option>
                            <option value="500">500 pts</option>
                        </select>
                    </div>
                    <div class="graph-option">
                        <label>Y-Axis</label>
                        <select id="graphYAxis">
                            <option value="auto" selected>Auto</option>
                            <option value="0-255">0 ‚Äì 255</option>
                            <option value="0-1023">0 ‚Äì 1023</option>
                            <option value="-1024-1024">¬±1024</option>
                            <option value="0-360">0 ‚Äì 360</option>
                        </select>
                    </div>
                    <div class="graph-option">
                        <label>Lines</label>
                        <select id="graphLineWidth">
                            <option value="1">Thin</option>
                            <option value="2" selected>Normal</option>
                            <option value="3">Thick</option>
                        </select>
                    </div>
                    <label class="graph-toggle"><input type="checkbox" id="graphGrid" checked> Grid</label>
                </div>
            </div>
        </div>

        <!-- Chart Canvas -->
        <div class="graph-chart-wrap" id="graphChartWrap">
            <canvas id="graphCanvas"></canvas>
        </div>

        <!-- Action Buttons -->
        <div class="graph-actions">
            <button id="graphSimBtn" class="secondary">üé≤ Simulate</button>
            <button id="graphPauseBtn" class="secondary">‚è∏ Pause</button>
            <button id="graphClearBtn" class="secondary">üóë Clear</button>
            <button id="graphExportPng" class="secondary">üì∑ PNG</button>
            <button id="graphExportCsv" class="secondary">üìÑ CSV</button>
            <span class="graph-point-count" id="graphPointCount">0 pts</span>
        </div>
    </div>
</div>
<!-- BENCH PAGE -->
<div class="tab-page" data-page="bench">
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">
                    <span class="icon">ü™ë</span>
                    Bench
                </div>
                <div class="card-subtitle">
                    Tools and experiments for testing micro:bit features.
                </div>
            </div>
        </div>

        <div class="controls-grid">
            <div class="control-section">
                <div class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üß™</span>
                        Bench Tools
                    </div>
                    <div class="section-subtitle">
                        Try out experimental commands or diagnostics here.
                    </div>
                </div>
                <div class="form-row">
                    <input id="benchInput" type="text" placeholder="Enter test command">
                    <button id="benchSendBtn" class="primary">Run</button>
                </div>
                <div class="hint">Use this area for experiments and debugging.</div>
            </div>
        </div>
    </div>
    
    <div class="control-section">
  <div class="section-header">
    <div class="section-title">
      <span class="section-icon">üì•</span>
      Bench Response
    </div>
    <div class="section-subtitle">
      Output from the micro:bit will appear here.
    </div>
  </div>

  <!-- Response window -->
  <div id="benchResponse" class="bench-response"></div>
</div>


</div>
                 
                    <!-- OTHERS PAGE -->
<!-- OTHERS PAGE -->
<div class="tab-page" data-page="others">

    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">
                    <span class="icon">‚ú®</span>
                    More
                </div>
                <div class="card-subtitle">
                    Extra fun stuff!
                </div>
            </div>
        </div>

        <div class="tool-groups">

            <!-- BASIC CONTROLS (Kid-friendly) -->
            <details class="tool-group" open>
                <summary class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üéõÔ∏è</span>
                        Fun Controls
                    </div>
                </summary>

                <div class="controls-grid">
                    <!-- Button -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üîò</span>Button</div>
                        </div>
                        <button id="otherButton" class="primary" style="width:100%;">Press me!</button>
                    </div>

                    <!-- Switch -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">‚èª</span>Switch</div>
                        </div>
                        <div class="form-row" style="align-items:center;">
                            <label style="display:flex; align-items:center; gap:8px;">
                                <input id="otherSwitch" type="checkbox">
                                <span id="otherSwitchLabel">Off</span>
                            </label>
                        </div>
                    </div>

                    <!-- Slider -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üéöÔ∏è</span>Slider</div>
                        </div>
                        <div class="form-row">
                            <input id="otherSlider" type="range" min="0" max="100" value="50" style="flex:1;">
                            <span id="otherSliderValue" style="margin-left:8px;">50</span>
                        </div>
                    </div>

                    <!-- Keypad (moved up for kids) -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üî¢</span>Keypad</div>
                        </div>
                        <div id="otherKeypad"
                             style="display:grid;grid-template-columns:repeat(3,1fr);gap:4px;">
                            <button class="chip-btn other-keypad-btn" data-key="1">1</button>
                            <button class="chip-btn other-keypad-btn" data-key="2">2</button>
                            <button class="chip-btn other-keypad-btn" data-key="3">3</button>
                            <button class="chip-btn other-keypad-btn" data-key="4">4</button>
                            <button class="chip-btn other-keypad-btn" data-key="5">5</button>
                            <button class="chip-btn other-keypad-btn" data-key="6">6</button>
                            <button class="chip-btn other-keypad-btn" data-key="7">7</button>
                            <button class="chip-btn other-keypad-btn" data-key="8">8</button>
                            <button class="chip-btn other-keypad-btn" data-key="9">9</button>
                        </div>
                        <div style="margin-top:6px;font-size:0.8rem;">
                            You pressed: <span id="otherKeypadLast">‚Äì</span>
                        </div>
                    </div>

                    <!-- Text string (simplified) -->
                    <div class="control-section expert-only">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìù</span>Text</div>
                        </div>
                        <div class="form-row">
                            <input id="otherTextInput" type="text" placeholder="Enter text">
                            <button id="otherTextSendBtn" class="primary">Send</button>
                        </div>
                        <div style="margin-top:6px; font-size:0.8rem;">
                            Last: <span id="otherTextLast">(none)</span>
                        </div>
                    </div>
                </div>
            </details>

            <!-- INDICATORS & OUTPUTS (Expert) -->
            <details class="tool-group expert-only">
                <summary class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üí°</span>
                        Indicators & Outputs
                    </div>
                    <div class="section-subtitle">
                        Visual feedback from the system.
                    </div>
                </summary>

                <div class="controls-grid">
                    <!-- LED -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üí°</span>LED</div>
                        </div>
                        <div class="form-row" style="align-items:center; gap:10px;">
                            <div id="otherLed" style="width:18px;height:18px;border-radius:50%;background:#333;"></div>
                            <span id="otherLedState">Off</span>
                            <button id="otherLedToggle" class="chip-btn">Toggle</button>
                        </div>
                    </div>

                    <!-- Level -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìä</span>Level</div>
                        </div>
                        <progress id="otherLevel" max="100" value="30" style="width:100%;"></progress>
                        <span id="otherLevelLabel" style="font-size:0.8rem;">30%</span>
                    </div>

                    <!-- Live graph -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìà</span>Live Graph</div>
                        </div>
                        <div class="chart-container small">
                            <canvas id="otherLiveChart"></canvas>
                        </div>
                    </div>

                    <!-- Multi-series graph -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìä</span>Multi-Graph</div>
                        </div>
                        <div class="chart-container small">
                            <canvas id="otherMultiChart"></canvas>
                        </div>
                    </div>

                    <!-- Debug console -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üßæ</span>Debug Console</div>
                        </div>
                        <div id="otherConsole"
                             style="height:120px;overflow:auto;border-radius:8px;border:1px solid var(--border-color,#555);padding:6px;font-family:var(--font-mono,monospace);font-size:0.7rem;background:rgba(0,0,0,0.4);">
                        </div>
                        <button id="otherConsoleClear" class="chip-btn" style="margin-top:6px;">Clear log</button>
                    </div>

                    <!-- Data capture -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìÑ</span>Data Capture</div>
                        </div>
                        <div id="otherDataTable"
                             style="height:120px;overflow:auto;border-radius:8px;border:1px solid var(--border-color,#555);padding:6px;font-size:0.7rem;">
                            (No samples yet)
                        </div>
                        <button id="otherCsvDownloadBtn" class="chip-btn" style="margin-top:6px;">Download CSV</button>
                    </div>
                </div>
            </details>

            <!-- AUDIO, TIME & RANDOM (Expert) -->
            <details class="tool-group expert-only">
                <summary class="section-header">
                    <div class="section-title">
                        <span class="section-icon">‚è±Ô∏è</span>
                        Audio, Time & Random
                    </div>
                    <div class="section-subtitle">
                        Buzzer, timers and random tests.
                    </div>
                </summary>

                <div class="controls-grid">
                    <!-- Buzzer -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üéµ</span>Buzzer</div>
                        </div>
                        <div class="form-row">
                            <label style="width:90px;">Freq</label>
                            <input id="otherBuzzFreq" type="range" min="100" max="2000" value="500">
                            <span id="otherBuzzFreqValue">500 Hz</span>
                        </div>
                        <div class="form-row" style="margin-top:6px;">
                            <label style="width:90px;">Duration</label>
                            <input id="otherBuzzDur" type="number" min="50" max="2000" value="200" style="width:80px;">
                            <span>ms</span>
                        </div>
                        <button id="otherBuzzPlayBtn" class="primary" style="width:100%;margin-top:8px;">Play</button>
                    </div>

                    <!-- Timer / stopwatch -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">‚è±Ô∏è</span>Timer</div>
                        </div>
                        <div id="otherTimerDisplay"
                             style="font-family:var(--font-mono,monospace);font-size:1.1rem;margin-bottom:6px;">
                            00:00.0
                        </div>
                        <div class="form-row">
                            <button id="otherTimerStartBtn" class="chip-btn">Start</button>
                            <button id="otherTimerStopBtn" class="chip-btn">Stop</button>
                            <button id="otherTimerResetBtn" class="chip-btn">Reset</button>
                        </div>
                    </div>

                    <!-- Delayed action -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">‚è≤Ô∏è</span>Delay Action</div>
                        </div>
                        <div class="form-row">
                            <input id="otherScheduleDelay" type="number" min="100" max="60000" value="1000"
                                   style="width:100%;">
                            <span style="font-size:0.75rem;margin-left:4px;">ms</span>
                        </div>
                        <button id="otherScheduleActionBtn" class="chip-btn" style="margin-top:6px;width:100%;">Schedule
                            action
                        </button>
                    </div>

                    <!-- Random generator -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üé≤</span>Random</div>
                        </div>
                        <button id="otherRandomNumberBtn" class="primary" style="width:100%;">Generate random</button>
                        <div style="margin-top:6px;font-size:0.85rem;">
                            Value: <span id="otherRandomNumberValue">‚Äì</span>
                        </div>
                    </div>
                </div>
            </details>

            <!-- ADVANCED CONTROLS & PRESETS (Expert) -->
            <details class="tool-group expert-only">
                <summary class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üß†</span>
                        Advanced Controls & Presets
                    </div>
                    <div class="section-subtitle">
                        Modes, ranges, presets and global actions.
                    </div>
                </summary>

                <div class="controls-grid">
                    <!-- Mode selector -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìÇ</span>Mode</div>
                        </div>
                        <select id="otherModeSelect" style="width:100%;">
                            <option value="idle">Idle</option>
                            <option value="test1">Test mode 1</option>
                            <option value="test2">Test mode 2</option>
                            <option value="safe">Safe mode</option>
                        </select>
                    </div>

                    <!-- Numeric input -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üî¢</span>Numeric</div>
                        </div>
                        <input id="otherNumberInput" type="number" min="0" max="1000" value="100" style="width:100%;">
                    </div>

                    <!-- Dual range -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üèÅ</span>Range</div>
                        </div>
                        <div class="form-row" style="flex-direction:column; gap:6px;">
                            <div class="form-row">
                                <span style="width:40px;font-size:0.75rem;">Min</span>
                                <input id="otherRangeMin" type="range" min="0" max="100" value="20" style="flex:1;">
                                <span id="otherRangeMinValue"
                                      style="margin-left:6px;font-size:0.75rem;">20</span>
                            </div>
                            <div class="form-row">
                                <span style="width:40px;font-size:0.75rem;">Max</span>
                                <input id="otherRangeMax" type="range" min="0" max="100" value="80" style="flex:1;">
                                <span id="otherRangeMaxValue"
                                      style="margin-left:6px;font-size:0.75rem;">80</span>
                            </div>
                        </div>
                    </div>

                    <!-- Color picker -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üé®</span>Color</div>
                        </div>
                        <div class="form-row" style="align-items:center; gap:8px;">
                            <input id="otherColorPicker" type="color" value="#ff0000"
                                   style="width:50px; height:32px;">
                            <span id="otherColorValue" style="font-size:0.8rem;">#ff0000</span>
                        </div>
                    </div>

                    <!-- Presets -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üíæ</span>Presets</div>
                        </div>
                        <input id="otherPresetName" type="text" placeholder="Preset name"
                               style="width:100%;margin-bottom:6px;">
                        <div class="form-row">
                            <button id="otherPresetSaveBtn" class="chip-btn">Save</button>
                            <select id="otherPresetLoadSelect" style="flex:1; margin-left:6px;">
                                <option value="">(no presets)</option>
                            </select>
                        </div>
                        <button id="otherPresetLoadBtn" class="chip-btn" style="margin-top:6px;width:100%;">Load preset
                        </button>
                    </div>

                    <!-- Global controls -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üßπ</span>Global</div>
                        </div>
                        <button id="otherGlobalResetBtn" class="chip-btn" style="width:100%;margin-bottom:4px;">Reset
                            controls
                        </button>
                        <button id="otherGlobalClearBtn" class="chip-btn" style="width:100%;">Clear graphs & logs</button>
                    </div>

                    <!-- Theme -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üé≠</span>Theme</div>
                        </div>
                        <select id="otherThemeSelect" style="width:100%;">
                            <option value="system">System default</option>
                            <option value="dark">Dark</option>
                            <option value="light">Light</option>
                            <option value="funny">Funny mode</option>
                        </select>
                    </div>
                </div>
            </details>

            <!-- SIMULATORS & HARDWARE-LIKE TOOLS (Expert) -->
            <details class="tool-group expert-only">
                <summary class="section-header">
                    <div class="section-title">
                        <span class="section-icon">üß™</span>
                        Simulators & Hardware
                    </div>
                    <div class="section-subtitle">
                        LED matrix, sensors, pins, servo, keypad‚Ä¶
                    </div>
                </summary>

                <div class="controls-grid">
                    <!-- XY Pad -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìê</span>XY Pad</div>
                        </div>
                        <div id="otherXYPad"
                             style="position:relative;width:100%;padding-top:100%;border-radius:8px;border:1px dashed var(--border-color,#555);background:rgba(255,255,255,0.03);cursor:crosshair;">
                            <div id="otherXYDot"
                                 style="position:absolute;width:12px;height:12px;border-radius:50%;background:var(--accent-color,#0ff);transform:translate(-50%,-50%);top:50%;left:50%;">
                            </div>
                        </div>
                        <div style="margin-top:6px;font-size:0.75rem;">
                            X: <span id="otherXValue">0.5</span> &nbsp; Y: <span id="otherYValue">0.5</span>
                        </div>
                    </div>

                    <!-- LED matrix -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üî≤</span>LED Matrix</div>
                        </div>
                        <div id="otherLedMatrix"
                             style="display:grid;grid-template-columns:repeat(5,1fr);gap:4px;max-width:140px;">
                            <!-- 25 cells -->
                            <div class="other-matrix-cell" data-index="0"></div>
                            <div class="other-matrix-cell" data-index="1"></div>
                            <div class="other-matrix-cell" data-index="2"></div>
                            <div class="other-matrix-cell" data-index="3"></div>
                            <div class="other-matrix-cell" data-index="4"></div>
                            <div class="other-matrix-cell" data-index="5"></div>
                            <div class="other-matrix-cell" data-index="6"></div>
                            <div class="other-matrix-cell" data-index="7"></div>
                            <div class="other-matrix-cell" data-index="8"></div>
                            <div class="other-matrix-cell" data-index="9"></div>
                            <div class="other-matrix-cell" data-index="10"></div>
                            <div class="other-matrix-cell" data-index="11"></div>
                            <div class="other-matrix-cell" data-index="12"></div>
                            <div class="other-matrix-cell" data-index="13"></div>
                            <div class="other-matrix-cell" data-index="14"></div>
                            <div class="other-matrix-cell" data-index="15"></div>
                            <div class="other-matrix-cell" data-index="16"></div>
                            <div class="other-matrix-cell" data-index="17"></div>
                            <div class="other-matrix-cell" data-index="18"></div>
                            <div class="other-matrix-cell" data-index="19"></div>
                            <div class="other-matrix-cell" data-index="20"></div>
                            <div class="other-matrix-cell" data-index="21"></div>
                            <div class="other-matrix-cell" data-index="22"></div>
                            <div class="other-matrix-cell" data-index="23"></div>
                            <div class="other-matrix-cell" data-index="24"></div>
                        </div>
                        <button id="otherLedMatrixClear" class="chip-btn" style="margin-top:8px;">Clear</button>
                    </div>

                    <!-- Sensor simulator -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üå°Ô∏è</span>Sensors</div>
                        </div>
                        <div class="form-row">
                            <span style="width:80px;font-size:0.75rem;">Temp</span>
                            <input id="otherSimTemp" type="range" min="-10" max="50" value="20" style="flex:1;">
                            <span id="otherSimTempValue" style="margin-left:4px;font-size:0.75rem;">20¬∞C</span>
                        </div>
                        <div class="form-row" style="margin-top:4px;">
                            <span style="width:80px;font-size:0.75rem;">Light</span>
                            <input id="otherSimLight" type="range" min="0" max="255" value="128" style="flex:1;">
                            <span id="otherSimLightValue" style="margin-left:4px;font-size:0.75rem;">128</span>
                        </div>
                        <div class="form-row" style="margin-top:4px;">
                            <span style="width:80px;font-size:0.75rem;">Sound</span>
                            <input id="otherSimSound" type="range" min="0" max="255" value="64" style="flex:1;">
                            <span id="otherSimSoundValue" style="margin-left:4px;font-size:0.75rem;">64</span>
                        </div>
                    </div>

                    <!-- Pin control -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üîå</span>Pins</div>
                        </div>
                        <div style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:4px;font-size:0.75rem;">
                            <label><input id="otherPinD0" type="checkbox"> P0</label>
                            <label><input id="otherPinD1" type="checkbox"> P1</label>
                            <label><input id="otherPinD2" type="checkbox"> P2</label>
                            <label><input id="otherPinD8" type="checkbox"> P8</label>
                            <label><input id="otherPinD12" type="checkbox"> P12</label>
                            <label><input id="otherPinD16" type="checkbox"> P16</label>
                        </div>
                        <div class="form-row" style="margin-top:6px;">
                            <span style="font-size:0.75rem;">PWM P0</span>
                            <input id="otherPinPwm0" type="range" min="0" max="1023" value="0" style="flex:1;">
                        </div>
                    </div>

                    <!-- Servo -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">‚öôÔ∏è</span>Servo</div>
                        </div>
                        <div class="form-row">
                            <label style="width:60px;font-size:0.75rem;">Angle</label>
                            <input id="otherServoAngle" type="range" min="0" max="180" value="90" style="flex:1;">
                            <span id="otherServoAngleValue" style="margin-left:6px;font-size:0.75rem;">90¬∞</span>
                        </div>
                        <div class="form-row" style="margin-top:6px;">
                            <label style="width:60px;font-size:0.75rem;">Speed</label>
                            <input id="otherServoSpeed" type="range" min="1" max="10" value="5" style="flex:1;">
                            <span id="otherServoSpeedValue" style="margin-left:6px;font-size:0.75rem;">5</span>
                        </div>
                        <button id="otherServoRunBtn" class="primary" style="width:100%;margin-top:8px;">Move Servo</button>
                        <button id="otherServoOffBtn" class="secondary" style="width:100%;margin-top:4px;">Stop Servo</button>
                    </div>

                    <!-- RGB strip -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üí°</span>RGB Strip</div>
                        </div>
                        <div id="otherStrip"
                             style="display:flex;gap:4px;flex-wrap:wrap;">
                            <div class="other-strip-led" data-index="0"></div>
                            <div class="other-strip-led" data-index="1"></div>
                            <div class="other-strip-led" data-index="2"></div>
                            <div class="other-strip-led" data-index="3"></div>
                            <div class="other-strip-led" data-index="4"></div>
                            <div class="other-strip-led" data-index="5"></div>
                            <div class="other-strip-led" data-index="6"></div>
                            <div class="other-strip-led" data-index="7"></div>
                        </div>
                        <button id="otherStripClearBtn" class="chip-btn" style="margin-top:6px;">Clear strip</button>
                    </div>

                    <!-- Keypad -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üî¢</span>Keypad</div>
                        </div>
                        <div id="otherKeypad"
                             style="display:grid;grid-template-columns:repeat(3,1fr);gap:4px;">
                            <button class="chip-btn other-keypad-btn" data-key="1">1</button>
                            <button class="chip-btn other-keypad-btn" data-key="2">2</button>
                            <button class="chip-btn other-keypad-btn" data-key="3">3</button>
                            <button class="chip-btn other-keypad-btn" data-key="4">4</button>
                            <button class="chip-btn other-keypad-btn" data-key="5">5</button>
                            <button class="chip-btn other-keypad-btn" data-key="6">6</button>
                            <button class="chip-btn other-keypad-btn" data-key="7">7</button>
                            <button class="chip-btn other-keypad-btn" data-key="8">8</button>
                            <button class="chip-btn other-keypad-btn" data-key="9">9</button>
                        </div>
                        <div style="margin-top:6px;font-size:0.8rem;">
                            Last key: <span id="otherKeypadLast">‚Äì</span>
                        </div>
                    </div>

                    <!-- File I/O -->
                    <div class="control-section">
                        <div class="section-header">
                            <div class="section-title"><span class="section-icon">üìÅ</span>File I/O</div>
                        </div>
                        <input id="otherFileUpload" type="file" style="width:100%;margin-bottom:6px;">
                        <div id="otherFileUploadLabel" style="font-size:0.75rem;">No file loaded</div>
                    </div>
                </div>
            </details>

        </div>
    </div>

    <!-- Response area (micro:bit output) -->
    <div class="control-section">
        <div class="section-header">
            <div class="section-title"><span class="section-icon">üì•</span>Response</div>
            <div class="section-subtitle">Output from micro:bit.</div>
        </div>
        <div id="otherResponse" class="bench-response"></div>
    </div>

</div>

                </div>
            </div>
        </div>

    </div>
</div>
</body>
</html>
